<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastrar Profissional</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

  <div class="container" style="max-width:500px;">
    <h1>Cadastrar Profissional</h1>

    <label>Nome</label>
    <input id="nome" type="text">

    <label>Registro Profissional</label>
    <input id="registro" type="text" placeholder="CRM, COREN, CRO...">

    <label>Contato</label>
    <input id="contato" type="text" placeholder="Telefone ou WhatsApp">

    <label>Email</label>
    <input id="email" type="email">

    <label>Senha</label>
    <input id="senha" type="password">

    <button onclick="cadastrar()">Cadastrar</button>
    <p id="msg"></p>

    <br>
    <a href="login_profissional.html">JÃ¡ tenho conta</a>
  </div>

  <script type="module">
    import { apiPost } from './assets/js/api.js';

    async function cadastrar() {
      const body = {
        nome: document.getElementById("nome").value,
        registro_profissional: document.getElementById("registro").value,
        contato: document.getElementById("contato").value,
        email: document.getElementById("email").value,
        senha: document.getElementById("senha").value
      };

      const res = await apiPost("/profissionais/register", body);

      document.getElementById("msg").innerText =
        res.id ? "Profissional criado com sucesso!" : res.message;
    }

    window.cadastrar = cadastrar;
  </script>

</body>
</html>
