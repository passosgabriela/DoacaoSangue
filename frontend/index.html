<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Clínica - Home</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <script type="module">
    import { isLogged, getRole } from './assets/js/api.js';
    document.addEventListener('DOMContentLoaded', () => {
      // Home pública: se o usuário já estiver logado, direciona para a área certa automaticamente
      if (isLogged()) {
        const role = getRole();
        if (role === 'profissional') {
          window.location.href = 'profissional_area.html';
          return;
        } else {
          window.location.href = 'usuario_area.html';
          return;
        }
      }

      // monta conteúdo público
      document.body.insertAdjacentHTML('afterbegin', `
        <nav>
          <div class="logo">Clínica de Doação</div>
          <div class="nav-links">
            <a href="login_usuario.html">Área do Usuário</a>
            <a href="login_profissional.html">Área do Profissional</a>
          </div>
        </nav>
      `);
    });
  </script>
</head>
<body>
  <div class="container">
    <h1>Bem-vindo à Clínica de Doação</h1>
    <p>Escolha sua área:</p>
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <a href="login_usuario.html"><button>Área do Usuário</button></a>
      <a href="login_profissional.html"><button>Área do Profissional</button></a>
    </div>
  </div>
</body>
</html>
